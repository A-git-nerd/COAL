     1                                  [org 0x100]
     2                                  ; You have to run three test cases like this:
     3 00000000 EB66                    jmp start
     4                                  
     5                                  subtract:
     6 00000002 55                      push bp
     7 00000003 89E5                    mov bp,sp
     8 00000005 8B460A                  mov ax,[bp+10]
     9 00000008 8B5E08                  mov bx,[bp +8]
    10 0000000B 29D8                    sub ax,bx
    11 0000000D 8B5E06                  mov bx,[bp +6]
    12 00000010 29D8                    sub ax,bx
    13 00000012 8B5E04                  mov bx,[bp +4]
    14 00000015 29D8                    sub ax,bx
    15 00000017 89460C                  mov [bp+12],ax
    16 0000001A 5D                      pop bp
    17 0000001B C20800                  ret 8
    18                                  
    19                                  
    20 0000001E 5D                      pop bp
    21 0000001F C20800                  ret 8
    22                                  
    23                                  
    24                                  
    25                                  AnotherFunction:
    26 00000022 55                      push bp
    27 00000023 89E5                    mov bp,sp
    28 00000025 56                      push si
    29 00000026 89E6                    mov si,sp
    30 00000028 83C60E                  add si,14 ; si holding results now
    31                                  
    32                                  
    33                                  
    34 0000002B 83EC02                  sub sp,2 ; reserving space for a local var
    35 0000002E 89E5                    mov bp,sp
    36                                  
    37 00000030 C7040000                mov word[si],0
    38 00000034 C746000000              mov word[bp],0
    39                                  
    40                                  
    41 00000039 FF760E                  push word[bp+14]
    42 0000003C FF760C                  push word[bp+12]
    43 0000003F FF760A                  push word[bp+10]
    44 00000042 FF7608                  push word[bp+8]
    45                                  
    46 00000045 E8BAFF                  call subtract
    47 00000048 8B4600                  mov ax,[bp]
    48 0000004B C746000000              mov word[bp],0
    49 00000050 8904                    mov [si],ax
    50                                  
    51                                  
    52 00000052 FF760A                  push word[bp+10]
    53 00000055 FF7608                  push word[bp+8]
    54 00000058 6A00                    push 0x00
    55 0000005A 6A00                    push 0x00
    56 0000005C E8A3FF                  call subtract
    57 0000005F 58                      pop ax
    58 00000060 0104                    add [si],ax
    59 00000062 83C404                  add sp,4
    60 00000065 C20800                  ret 8
    61                                  
    62                                  
    63                                  start:
    64                                  
    65                                  ; function call Test i
    66 00000068 83EC02                  sub sp,2
    67 0000006B 6A0A                    push 0xA
    68 0000006D 6A01                    Push 0x1
    69 0000006F 6A02                    Push 0x2
    70 00000071 6A02                    Push 0x2
    71 00000073 E8ACFF                  Call AnotherFunction
    72 00000076 58                      Pop AX ;verify answer here
    73                                  
    74                                  
    75                                  ; function call Test ii
    76 00000077 83EC02                  sub sp,2
    77 0000007A 6A09                    push 0x9
    78 0000007C 6A01                    Push 0x1
    79 0000007E 6A05                    Push 0x5
    80 00000080 6A00                    Push 0x0
    81 00000082 E89DFF                  Call AnotherFunction
    82 00000085 58                      Pop AX ;verify answer here
    83                                  
    84                                  ; function call Test iii
    85 00000086 83EC02                  sub sp,2
    86 00000089 6A0F                    push 0xF
    87 0000008B 6A01                    Push 0x1
    88 0000008D 6A08                    Push 0x8
    89 0000008F 6A04                    Push 0x4
    90 00000091 E88EFF                  Call AnotherFunction
    91 00000094 58                      Pop AX ;verify answer here
    92                                  
    93                                  
    94                                  ;Termination Code here
    95 00000095 B8004C                  end:mov ax,0x4c00
    96 00000098 CD21                    int 0x21
